(function(t){function e(e){for(var o,s,l=e[0],r=e[1],c=e[2],p=0,u=[];p<l.length;p++)s=l[p],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&u.push(i[s][0]),i[s]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);d&&d(e);while(u.length)u.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],o=!0,l=1;l<a.length;l++){var r=a[l];0!==i[r]&&(o=!1)}o&&(n.splice(e--,1),t=s(s.s=a[0]))}return t}var o={},i={app:0},n=[];function s(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=o,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(a,o,function(e){return t[e]}.bind(null,o));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var d=r;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var o=a("85ec"),i=a.n(o);i.a},3178:function(t,e,a){"use strict";var o=a("ccd9"),i=a.n(o);i.a},"49c6":function(t,e,a){},"50a9":function(t,e,a){"use strict";var o=a("49c6"),i=a.n(o);i.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:{"background-attachment":"fixed","background-image":"url("+t.theme.backgroundimage+")","background-size":"cover"},attrs:{id:"app"}},[a("b-navbar",{attrs:{type:t.theme.navbartype}},[a("template",{slot:"brand"},[a("b-navbar-item",{attrs:{tag:"router-link",to:"/"}},[t.theme?a("img",{staticStyle:{"margin-right":"10px"},attrs:{src:t.icon,alt:"Website Icon"}}):t._e(),t._v(" Chinyokas Project ")])],1),a("template",{slot:"end"},t._l(t.navItems,(function(e,o){return a("b-navbar-item",{key:o,attrs:{tag:"router-link",to:e.route}},[t._v(" "+t._s(e.name)+" ")])})),1)],2),a("main",{staticClass:"content-wrapper"},[a("router-view",{style:t.pageContent})],1)],1)},n=[],s=(a("99af"),a("caad"),new o["a"]),l={name:"App",data:function(){return{theme:null,admin:!1}},computed:{pageContent:function(){return{width:"75%","border-color":this.theme.bordercolor,"border-style":"solid","border-width":"2px","border-top-width":"0px","background-color":"rgba(0, 0, 0, 0.9)",padding:"10px","border-bottom-left-radius":"5px","border-bottom-right-radius":"5px","min-height":"900px","margin-bottom":"10px"}},navItems:function(){var t=[{name:"Blog",route:"/blog"},{name:"Music",route:"/music"},{name:"Album",route:"/album"}],e=[{name:"Theme",route:"/theme"}];return this.admin&&(t=t.concat(e)),t},icon:function(){return["is-dark","is-black"].includes(this.theme.navbartype)?"dragon-purple.png":"dragon-black.png"}},watch:{admin:function(){this.checkAdmin()}},created:function(){this.getTheme(),this.checkAdmin()},mounted:function(){var t=this;s.$on("theme-was-changed",(function(){t.getTheme()}))},methods:{checkAdmin:function(){var t=this,e=localStorage.getItem("password");console.log(e),e?this.axios.get("/backend/api/auth/checkadmin.php",{params:{password:e}},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){t.admin=e.data.admin})):this.admin=!1},getTheme:function(){var t=this;this.axios.get("/backend/api/theme/current.php",{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){t.theme=e.data})).catch((function(e){console.log(e),t.$buefy.toast.open({message:"Something went wrong while loading the data... Please reload the page.",type:"is-danger"})}))}}},r=l,c=(a("034f"),a("2877")),d=Object(c["a"])(r,i,n,!1,null,null,null),p=d.exports,u=(a("b0c0"),a("bc3a")),m=a.n(u),g=a("8c4f"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("Welcome to my website!")]),a("p",[t._v(" This is my own personal website that I use for posting blogs as well as trying out new stuff and playing around with my knowledge in programming and web developing. Feel free to visit the Music page, my Album where I post my drawings, read my blogs or leave a comment. More content coming soon! ")]),a("div",{staticStyle:{display:"flex"}},[a("div",{staticStyle:{width:"49%",display:"inline-block"}},[t._m(0),a("div",[t.latestBlogPost&&t.latestBlogPost.title?a("section",{staticClass:"website-content-section"},[a("h3",[t._v("Latest Blog Post")]),a("h5",[t._v("in "),a("b",[t._v(t._s(t.latestBlogPost.category.name))])]),a("br"),a("div",{staticStyle:{display:"flex"}},[a("router-link",{staticClass:"blog-post-link",attrs:{to:"/view-blog-post/"+t.latestBlogPost.id}},[t._v(" "+t._s(t.latestBlogPost.title)+" ")]),a("div",{staticStyle:{display:"inline-block","flex-grow":"1"}}),t._v(" "+t._s(t.$date(t.latestBlogPost.created_at).format("DD/MM/YYYY HH:mm"))+" ")],1),a("br"),a("div",{domProps:{innerHTML:t._s(t.trimmedBlogBody)}})]):t._e()]),a("div",[a("section",{staticClass:"website-content-section"},[a("h3",{staticStyle:{display:"flex"}},[t._v(" My favorite song at the moment "),a("div",{staticStyle:{display:"inline-block","flex-grow":"1"}}),t.admin?a("b-button",{attrs:{outlined:"",type:"is-white"},on:{click:function(e){t.showEditSongModal=!0}}},[a("b-icon",{attrs:{pack:"fas",icon:"pen"}})],1):t._e()],1),t.song?a("p",[t._v(" "+t._s(t.song.name)),a("br"),a("br"),a("audio",{attrs:{src:t.song.url,controls:""}})]):t._e()])])]),a("div",{staticStyle:{"flex-grow":"1",display:"inline-block"}}),t.latestImagePost?a("div",{staticClass:"website-content-section image-post"},[a("h3",[t._v("My newest drawing")]),a("br"),a("div",{staticClass:"card-image"},[a("figure",{staticClass:"image is-4by3"},[a("div",[a("img",{attrs:{src:t.latestImagePost.image,alt:t.latestImagePost.title}})])])]),a("div",{staticClass:"card-content"},[a("div",{staticClass:"card-header",staticStyle:{display:"flex"}},[a("p",{staticClass:"card-header-title",staticStyle:{color:"#e3e3e3"}},[t._v(" "+t._s(t.latestImagePost.title)+" ")]),a("div",{staticStyle:{"flex-grow":"1",display:"inline-block"}}),a("span",{staticStyle:{padding:"10px"}},[t._v(" "+t._s(t.$date(t.latestImagePost.created_at).format("DD/MM/YYYY HH:mm"))+" ")])]),a("div",{staticClass:"content"},[t._v(" "+t._s(t.trimmedImagePostBody)+" ")])])]):t._e()]),a("b-modal",{attrs:{active:t.showEditSongModal,"has-modal-card":"","trap-focus":"","aria-role":"dialog","aria-modal":""},on:{"update:active":function(e){t.showEditSongModal=e}}},[a("edit-favorite-song-modal",{attrs:{"current-song":t.song},on:{"song-was-updated":t.getFavoriteSong}})],1),t._m(1)],1)},f=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"content has-text-centered",staticStyle:{height:"350px"}},[o("img",{attrs:{src:a("905c"),alt:"Dragon"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v(" Dragon Icon made by "),a("a",{attrs:{href:"https://www.flaticon.com/authors/icongeek26",title:"Icongeek26"}},[t._v(" Icongeek26 ")]),t._v(" from "),a("a",{attrs:{href:"https://www.flaticon.com/",title:"Flaticon"}},[t._v(" www.flaticon.com ")])])}],b=(a("a4d3"),a("e01a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{attrs:{action:""}},[a("div",{staticClass:"modal-card",staticStyle:{width:"500px"}},[t._m(0),a("section",{staticClass:"modal-card-body"},[a("b",{staticStyle:{color:"black"}},[t._v("Name")]),a("b-field",[a("b-input",{attrs:{type:"name",required:""},model:{value:t.song.name,callback:function(e){t.$set(t.song,"name",e)},expression:"song.name"}})],1),a("b",{staticStyle:{color:"black"}},[t._v("Song URL")]),a("b-field",[a("b-input",{attrs:{type:"url",required:""},model:{value:t.song.url,callback:function(e){t.$set(t.song,"url",e)},expression:"song.url"}})],1)],1),a("footer",{staticClass:"modal-card-foot"},[a("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){return t.$parent.close()}}},[t._v("Close")]),a("b-button",{staticClass:"button is-primary",attrs:{loading:t.isLoading},on:{click:t.update}},[t._v("Update")])],1)])])}),y=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[t._v("Edit your favorite song")])])}],v=(a("d3b7"),{props:{currentSong:{type:Object,default:function(){return{name:null,url:null}}}},data:function(){return{song:null,isLoading:!1}},created:function(){this.currentSong&&(this.song=this.currentSong)},methods:{update:function(){var t=this;this.isLoading=!0,this.axios.post("/backend/api/favorite-song/update.php",{song:this.song},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){t.$buefy.toast.open(e.data.message),t.$parent.close(),t.$emit("song-was-updated")})).catch((function(t){console.log(t)})).finally((function(){t.isLoading=!1}))}}}),w=v,k=Object(c["a"])(w,b,y,!1,null,null,null),_=k.exports,x={components:{"edit-favorite-song-modal":_},data:function(){return{latestBlogPost:null,latestImagePost:null,admin:!1,song:null,showEditSongModal:!1}},computed:{trimmedBlogBody:function(){return this.latestBlogPost.body.length>490?"<h5>".concat(this.latestBlogPost.body.substring(0,490),"...</h5>"):"<h5>".concat(this.latestBlogPost.body,"</h5>")},trimmedImagePostBody:function(){return this.latestImagePost.description.length>210?this.latestImagePost.description.substring(0,210)+"...":this.latestImagePost.description}},watch:{admin:function(){this.checkAdmin()}},created:function(){this.getLatestBlogPost(),this.getLatestImagePost(),this.checkAdmin(),this.getFavoriteSong()},methods:{getLatestBlogPost:function(){var t=this;this.axios.get("/backend/api/blog-post/latest.php").then((function(e){t.latestBlogPost=e.data})).catch((function(e){console.log(e),t.$buefy.toast.open({message:"Something went wrong while loading the data... Please reload the page.",type:"is-danger"})}))},getLatestImagePost:function(){var t=this;this.axios.get("/backend/api/image-posts/latest.php").then((function(e){t.latestImagePost=e.data})).catch((function(e){console.log(e),t.$buefy.toast.open({message:"Something went wrong while loading the data... Please reload the page.",type:"is-danger"})}))},checkAdmin:function(){var t=this,e=localStorage.getItem("password");e?this.axios.get("/backend/api/auth/checkadmin.php",{params:{password:e}},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){t.admin=e.data.admin})):this.admin=!1},getFavoriteSong:function(){var t=this;this.axios.get("/backend/api/favorite-song/get.php").then((function(e){t.song=e.data})).catch((function(e){console.log(e),t.$buefy.toast.open({message:"Something went wrong while loading the data... Please reload the page.",type:"is-danger"})}))}}},C=x,S=(a("3178"),Object(c["a"])(C,h,f,!1,null,"0c427426",null)),$=S.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("Music")]),a("my-playlist"),a("br"),t.admin?a("b-button",{staticStyle:{color:"black"},attrs:{type:"is-success"},on:{click:function(e){t.showAddSongModal=!0}}},[t._v(" Add a song ")]):t._e(),a("br"),a("br"),a("h2",[t._v("My favorite playlists on Spotify")]),a("br"),t.loading?a("b-button",{staticStyle:{width:"300px"},attrs:{loading:"",type:"is-dark"}}):a("div",t._l(t.urls,(function(t,e){return a("div",{key:e,staticStyle:{display:"inline-block",width:"25%"}},[a("spotify-player",{attrs:{url:t}})],1)})),0),a("br"),a("br"),t.admin?a("div",[a("h2",[t._v("Add new Spotify playlist")]),a("b-field",{staticStyle:{width:"40%"},attrs:{label:"Playlist Name:"}},[a("b-input",{staticStyle:{width:"100%"},model:{value:t.newName,callback:function(e){t.newName=e},expression:"newName"}})],1),a("b-tooltip",{staticStyle:{width:"80%"},attrs:{label:"Go to playlist on spotify -> Share -> Copy Playlist Link",position:"is-bottom"}},[a("b-field",{staticStyle:{width:"100%"},attrs:{label:"Spotify Playlist URL:"}},[a("b-input",{model:{value:t.newUrl,callback:function(e){t.newUrl=e},expression:"newUrl"}})],1)],1),a("b-button",{staticStyle:{margin:"30px",color:"black"},attrs:{type:"is-success"},on:{click:t.createNewPlaylist}},[t._v(" Create ")])],1):t._e(),a("b-modal",{attrs:{active:t.showAddSongModal,"has-modal-card":"","trap-focus":"","aria-role":"dialog","aria-modal":""},on:{"update:active":function(e){t.showAddSongModal=e}}},[a("add-song-modal")],1)],1)},L=[],T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{display:"inline-block"}},[a("embed",{staticClass:"player",attrs:{src:t.url,frameborder:"0",allowtransparency:"true",allow:"encrypted-media"}})])},I=[],A={props:{url:{type:String,required:!0}}},E=A,O=(a("fa2d"),Object(c["a"])(E,T,I,!1,null,"6b5c29b9",null)),M=O.exports,B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{display:"flex"}},[t.currentSong?a("audio",{ref:"playlist",staticStyle:{"background-color":"#ffffff","margin-right":"10%","max-height":"40px"},attrs:{src:t.currentSong.url,controls:""},on:{ended:t.switchToNext}}):t._e(),a("div",t._l(t.songs,(function(e){return a("div",{key:e.id},[a("b-tag",{staticClass:"playlist-title",attrs:{closable:t.admin,type:"is-primary"},on:{close:function(a){return t.deleteSong(e.id)}},nativeOn:{click:function(a){return t.switchTo(e.playlist_id)}}},[t._v(" "+t._s(e.name)+" ")])],1)})),0)])},F=[],D={data:function(){return{songs:[],currentSong:null,admin:!1}},watch:{admin:function(){this.checkAdmin()}},mounted:function(){var t=this;this.getSongs(!0),s.$on("song-was-added",(function(){t.getSongs()})),this.checkAdmin()},methods:{getSongs:function(t){var e=this;this.axios.get("/backend/api/playlist-song/all.php").then((function(a){e.songs=a.data,t&&(e.currentSong=e.songs[0])})).catch((function(t){console.log(t),e.$buefy.toast.open({message:"Something went wrong while loading the data... Please reload the page.",type:"is-danger"})}))},switchTo:function(t){var e=this;this.$refs.playlist.pause(),this.currentSong=this.songs[t],this.$nextTick((function(){e.$refs.playlist.play()}))},switchToNext:function(){var t=this;this.currentSong.playlist_id+1<this.songs.length?(this.currentSong=this.songs[this.currentSong.playlist_id+1],this.$nextTick((function(){t.$refs.playlist.play()}))):this.$refs.playlist.pause()},deleteSong:function(t){var e=this;this.axios.post("/backend/api/playlist-song/delete.php",{id:t},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){e.$buefy.toast.open(t.data.message),e.getSongs()}))},checkAdmin:function(){var t=this,e=localStorage.getItem("password");e?this.axios.get("/backend/api/auth/checkadmin.php",{params:{password:e}},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){t.admin=e.data.admin})):this.admin=!1}}},j=D,N=(a("9a16"),Object(c["a"])(j,B,F,!1,null,"3c86b272",null)),Y=N.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{attrs:{action:""}},[a("div",{staticClass:"modal-card",staticStyle:{width:"500px"}},[t._m(0),a("section",{staticClass:"modal-card-body"},[a("b",{staticStyle:{color:"black"}},[t._v("Name")]),a("b-field",[a("b-input",{attrs:{type:"name",required:""},model:{value:t.song.name,callback:function(e){t.$set(t.song,"name",e)},expression:"song.name"}})],1),a("b",{staticStyle:{color:"black"}},[t._v("Song URL")]),a("b-field",[a("b-input",{attrs:{type:"url",required:""},model:{value:t.song.url,callback:function(e){t.$set(t.song,"url",e)},expression:"song.url"}})],1)],1),a("footer",{staticClass:"modal-card-foot"},[a("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){return t.$parent.close()}}},[t._v("Close")]),a("b-button",{staticClass:"button is-primary",attrs:{loading:t.isLoading},on:{click:t.create}},[t._v("Add")])],1)])])},H=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[t._v("Add a new song")])])}],R={data:function(){return{song:{name:null,url:null},isLoading:!1}},methods:{create:function(){var t=this;this.isLoading=!0,this.axios.post("/backend/api/playlist-song/create.php",{song:this.song},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){t.$buefy.toast.open(e.data.message),t.$parent.close(),s.$emit("song-was-added")})).catch((function(t){console.log(t)})).finally((function(){t.isLoading=!1}))}}},q=R,z=Object(c["a"])(q,U,H,!1,null,null,null),J=z.exports,W={components:{"spotify-player":M,"my-playlist":Y,"add-song-modal":J},data:function(){return{urls:[],newUrl:null,newName:null,loading:!0,admin:!1,showAddSongModal:!1}},watch:{admin:function(){this.checkAdmin()}},created:function(){this.checkAdmin(),this.getPlaylists()},methods:{createNewPlaylist:function(){var t=this;this.loading=!0,this.newUrl?this.axios.post("/backend/api/playlist/create.php",{params:{name:this.newName,url:this.newUrl}},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(){t.getPlaylists()})).catch((function(t){console.log(t)})):this.warningNoUrl(),this.loading=!1},getPlaylists:function(){var t=this;this.loading=!0,this.axios.get("/backend/api/playlist/urls.php").then((function(e){t.urls=e.data})).catch((function(t){console.log(t)})).finally((function(){t.loading=!1}))},warningNoUrl:function(){this.$buefy.toast.open({message:"Please enter an URL to your Spotify playlist.",type:"is-danger"})},checkAdmin:function(){var t=this,e=localStorage.getItem("password");e?this.axios.get("/backend/api/auth/checkadmin.php",{params:{password:e}},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){t.admin=e.data.admin})):this.admin=!1}}},G=W,V=Object(c["a"])(G,P,L,!1,null,"5a9cc505",null),K=V.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("Chinyokas Blog")]),t.admin?a("div",{staticStyle:{display:"flex"}},[a("div",{staticStyle:{"flex-grow":"1",display:"inline-block"}}),a("create-blog-category-modal",{on:{"category-was-created":t.getCategories}}),a("b-button",{staticStyle:{color:"black",margin:"5px",display:"inline-block"},attrs:{type:"is-success",tag:"router-link",to:"/blog-create"}},[a("b-icon",{staticStyle:{"margin-right":"3px"},attrs:{pack:"fas",icon:"plus"}}),t._v(" Create new blog post ")],1)],1):t._e(),t._l(t.collapses,(function(e,o){return a("b-collapse",{key:o,staticClass:"card",attrs:{animation:"slide",open:t.openCollapseItems.includes(o),type:"is-dark"},on:{open:function(e){return t.openCollapseItems.push(o)},close:function(e){return t.removeFromArray(t.openCollapseItems,o)}},scopedSlots:t._u([{key:"trigger",fn:function(o){return a("div",{staticClass:"card-header",attrs:{role:"button"}},[a("p",{staticClass:"card-header-title"},[a("b-input",{directives:[{name:"show",rawName:"v-show",value:t.editCategoryName.includes(e.id),expression:"editCategoryName.includes(collapse.id)"}],ref:"input",refInFor:!0,staticStyle:{width:"40%"},attrs:{tabindex:"0",autofocus:!0},nativeOn:{focusout:function(a){return t.removeFromArray(t.editCategoryName,e.id)},keydown:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.updateCategoryName(e)}},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"collapse.name"}}),t.editCategoryName.includes(e.id)?t._e():a("span",[t._v(t._s(e.name))]),a("b-tooltip",{attrs:{label:"Edit",position:"is-bottom"}},[t.admin?a("b-button",{staticStyle:{color:"black",margin:"5px"},attrs:{disabled:t.editCategoryName.includes(e.id),type:"is-white",outlined:""},on:{click:function(a){return t.openEditCategoryName(e.id)}}},[a("b-icon",{attrs:{pack:"fas",icon:"pen"}})],1):t._e()],1),a("b-tooltip",{attrs:{label:"Delete",position:"is-bottom"}},[t.admin?a("b-button",{staticStyle:{margin:"5px"},attrs:{type:"is-danger"},on:{click:function(a){return t.confirmDeleteCategory(e)}}},[a("b-icon",{attrs:{pack:"fas",icon:"trash"}})],1):t._e()],1)],1),a("a",{staticClass:"card-header-icon"},[a("b-icon",{attrs:{icon:o.open?"chevron-up":"chevron-down",pack:"fas"}})],1)])}}],null,!0)},[a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("b-table",{attrs:{data:e.posts},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-table-column",{attrs:{field:"title",label:"Title",width:"800"}},[a("router-link",{attrs:{to:"/view-blog-post/"+e.row.id}},[t._v(" "+t._s(e.row.title)+" ")])],1),a("b-table-column",{attrs:{field:"comment_count",label:"Comments"}},[t._v(" "+t._s(e.row.comment_count)+" ")]),a("b-table-column",{attrs:{field:"likes",label:"Likes"}},[t._v(" "+t._s(e.row.likes?e.row.likes:0)+" ")]),a("b-table-column",{attrs:{field:"created_at",label:"Created at"}},[t._v(" "+t._s(t.$date(e.row.created_at).format("DD/MM/YYYY HH:mm"))+" ")]),t.admin?a("b-table-column",{staticStyle:{display:"flex"},attrs:{field:"actions",label:"Actions"}},[a("b-tooltip",{attrs:{label:"Edit",position:"is-bottom"}},[a("b-button",{staticStyle:{color:"black",margin:"5px"},attrs:{type:"is-white",outlined:"",tag:"router-link",to:"/edit-blog-post/"+e.row.id}},[a("b-icon",{attrs:{pack:"fas",icon:"pen"}})],1)],1),a("b-tooltip",{attrs:{label:"Delete",position:"is-bottom"}},[a("b-button",{staticStyle:{margin:"5px"},attrs:{type:"is-danger"},on:{click:function(a){return t.confirmDeleteBlogPost(e.row.id)}}},[a("b-icon",{attrs:{pack:"fas",icon:"trash"}})],1)],1)],1):t._e()]}}],null,!0)})],1)])])})),t.isLoading?a("b-progress",{attrs:{type:"is-success"}}):t._e()],2)},X=[],Z=(a("a434"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{display:"inline-block"}},[a("b-button",{staticStyle:{color:"black",margin:"5px",display:"inline-block"},attrs:{type:"is-success"},on:{click:function(e){t.showCreateBlogCategoryModal=!0}}},[a("b-icon",{staticStyle:{"margin-right":"3px"},attrs:{pack:"fas",icon:"folder-plus"}}),t._v(" Add new blog category ")],1),a("b-modal",{attrs:{active:t.showCreateBlogCategoryModal,"has-modal-card":"","trap-focus":"","aria-role":"dialog","aria-modal":""},on:{"update:active":function(e){t.showCreateBlogCategoryModal=e}}},[a("modal-form",{on:{"category-was-created":function(e){return t.$emit("category-was-created")}}})],1)],1)}),tt=[],et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{attrs:{action:""}},[a("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[t._m(0),a("section",{staticClass:"modal-card-body"},[a("b",{staticStyle:{color:"black"}},[t._v("Name")]),a("b-field",[a("b-input",{attrs:{type:"name",placeholder:"Enter a name for your category",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)],1),a("footer",{staticClass:"modal-card-foot"},[a("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){return t.$parent.close()}}},[t._v("Close")]),a("b-button",{staticClass:"button is-primary",attrs:{loading:t.isLoading},on:{click:function(e){return t.create()}}},[t._v("Create")])],1)])])},at=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[t._v("Add new blog category")])])}],ot={data:function(){return{name:null,isLoading:!1}},methods:{create:function(){var t=this;this.isLoading=!0,this.axios.post("/backend/api/blog-category/create.php",{name:this.name},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){t.$buefy.toast.open(e.data.message),t.$parent.close(),t.$emit("category-was-created")})).catch((function(t){console.log(t)})).finally((function(){t.isLoading=!1}))}}},it=ot,nt=Object(c["a"])(it,et,at,!1,null,null,null),st=nt.exports,lt={components:{"modal-form":st},data:function(){return{showCreateBlogCategoryModal:!1}}},rt=lt,ct=Object(c["a"])(rt,Z,tt,!1,null,null,null),dt=ct.exports,pt={components:{"create-blog-category-modal":dt},data:function(){return{collapses:[],openCollapseItems:[],isLoading:!1,admin:!1,editCategoryName:[]}},watch:{admin:function(){this.checkAdmin()}},created:function(){this.getCategories(),this.checkAdmin(),localStorage.getItem("openCollapseItems")&&(this.openCollapseItems=JSON.parse(localStorage.getItem("openCollapseItems")))},beforeDestroy:function(){localStorage.setItem("openCollapseItems",JSON.stringify(this.openCollapseItems))},methods:{getCategories:function(){var t=this;this.isLoading=!0,this.axios.get("/backend/api/blog-category/all-with-posts.php").then((function(e){t.collapses=e.data})).catch((function(e){console.log(e),t.$buefy.toast.open({message:"Something went wrong while loading the data... Please reload the page.",type:"is-danger"})})).finally((function(){t.isLoading=!1}))},checkAdmin:function(){var t=this,e=localStorage.getItem("password");e?this.axios.get("/backend/api/auth/checkadmin.php",{params:{password:e}},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){t.admin=e.data.admin})):this.admin=!1},removeFromArray:function(t,e){for(var a=0;a<t.length;a++)t[a]===e&&t.splice(a,1)},confirmDeleteBlogPost:function(t){var e=this;this.$buefy.dialog.confirm({title:"Delete blog post",message:'<p style="color: black">Are you sure you want to <b>delete</b> this blog post?</p>',confirmText:"Delete post",type:"is-danger",hasIcon:!0,onConfirm:function(){return e.deleteBlogPost(t)}})},deleteBlogPost:function(t){var e=this;this.removeFromArray(this.openCollapseItems,t),this.axios.post("/backend/api/blog-post/delete.php",{id:t},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){e.$buefy.toast.open(t.data.message),e.getCategories()}))},updateCategoryName:function(t){var e=this;this.removeFromArray(this.editCategoryName,t.id),this.axios.post("/backend/api/blog-category/update.php",{category:t},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){e.$buefy.toast.open(t.data.message),e.getCategories()}))},openEditCategoryName:function(t){this.editCategoryName.push(t),this.$refs.input[t].$el.focus()},confirmDeleteCategory:function(t){var e=this;t.posts&&t.posts.length>0?this.$buefy.toast.open("Only categories without blog posts can be deleted."):this.$buefy.dialog.confirm({title:"Delete category",message:'<p style="color: black">Are you sure you want to <b>delete</b> this category?</p>',confirmText:"Delete category",type:"is-danger",hasIcon:!0,onConfirm:function(){return e.deleteCategory(t.id)}})},deleteCategory:function(t){var e=this;this.axios.post("/backend/api/blog-category/delete.php",{id:t},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){e.$buefy.toast.open(t.data.message),e.getCategories()}))}}},ut=pt,mt=Object(c["a"])(ut,Q,X,!1,null,"065e92a3",null),gt=mt.exports,ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("Create a new Post")]),a("div",{staticStyle:{display:"flex"}},[a("b-field",{staticStyle:{width:"50%"},attrs:{label:"Title"}},[a("b-input",{model:{value:t.post.title,callback:function(e){t.$set(t.post,"title",e)},expression:"post.title"}})],1),a("b-field",{staticStyle:{"margin-left":"10px",width:"30%"},attrs:{label:"Category"}},[a("b-select",{attrs:{expanded:"",loading:t.isLoading,disabled:t.isLoading},model:{value:t.post.category_id,callback:function(e){t.$set(t.post,"category_id",e)},expression:"post.category_id"}},t._l(t.categories,(function(e){return a("option",{key:e.id,domProps:{value:parseInt(e.id)}},[t._v(" "+t._s(e.name)+" ")])})),0)],1),a("b-field",{staticStyle:{"margin-left":"15px"},attrs:{label:"Make post public?"}},[a("b-tooltip",{attrs:{label:"If you don't check this option, the blog post will be only visible to you."}},[a("b-checkbox",{model:{value:t.post.is_public,callback:function(e){t.$set(t.post,"is_public",e)},expression:"post.is_public"}},[t._v(t._s(t.post.is_public?"show it to the world":"no, save as draft"))])],1)],1)],1),a("b-field",{attrs:{label:"Body"}},[a("textarea-autosize",{staticClass:"bodyinput",attrs:{loading:t.isLoading,disabled:t.isLoading,"min-height":100,"max-height":4e3},model:{value:t.post.body,callback:function(e){t.$set(t.post,"body",e)},expression:"post.body"}})],1),a("div",{staticStyle:{display:"flex"}},[a("b-button",{attrs:{type:"is-white",outlined:"",tag:"router-link",to:"/blog"}},[a("b-icon",{staticStyle:{"margin-right":"3px"},attrs:{pack:"fas",icon:"arrow-left"}}),t._v(" Back ")],1),a("div",{staticStyle:{display:"inline-block","flex-grow":"1"}}),a("b-button",{staticStyle:{color:"black"},attrs:{type:"is-success",loading:t.isLoading,disabled:t.isLoading},on:{click:function(e){return t.create()}}},[a("b-icon",{staticStyle:{"margin-right":"3px"},attrs:{pack:"fas",icon:"check"}}),t._v(" Create ")],1)],1)],1)},ft=[],bt={data:function(){return{post:{title:null,body:null,is_public:!1,category_id:null},categories:[],isLoading:!1}},created:function(){this.getCategories()},methods:{getCategories:function(){var t=this;this.isLoading=!0,this.axios.get("/backend/api/blog-category/all.php").then((function(e){t.categories=e.data})).catch((function(e){console.log(e),t.$buefy.toast.open({message:"Something went wrong while loading the data... Please reload the page.",type:"is-danger"})})).finally((function(){t.isLoading=!1}))},create:function(){var t=this;this.isLoading=!0,this.axios.post("/backend/api/blog-post/create.php",{post:this.post},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){t.$buefy.toast.open(e.data.message),"Your new blog post was created."===e.data.message&&t.$router.push({name:"blog"})})).catch((function(t){console.log(t)})).finally((function(){t.isLoading=!1}))}}},yt=bt,vt=(a("50a9"),Object(c["a"])(yt,ht,ft,!1,null,"6996fb64",null)),wt=vt.exports,kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("View Blog Post")]),t.post.category?a("h5",[t._v("in "),a("b",[t._v(t._s(t.post.category.name))])]):t._e(),a("br"),a("div",{staticClass:"card"},[a("header",{staticClass:"card-header",staticStyle:{display:"flex"}},[a("p",{staticClass:"card-header-title"},[t._v(" "+t._s(t.post.title)+" ")]),a("div",{staticStyle:{"flex-grow":"1",display:"inline-block"}}),a("span",{staticStyle:{padding:"10px"}},[t._v(" "+t._s(t.$date(t.post.created_at).format("DD/MM/YYYY HH:mm"))+" ")]),a("b-tooltip",{attrs:{label:"Edit",position:"is-bottom"}},[t.admin?a("b-button",{staticStyle:{color:"black",margin:"5px"},attrs:{type:"is-white",outlined:"",tag:"router-link",to:"/edit-blog-post/"+t.post.id}},[a("b-icon",{attrs:{pack:"fas",icon:"pen"}})],1):t._e()],1)],1),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("div",{domProps:{innerHTML:t._s(t.post.body)}})])]),a("footer",{staticClass:"card-footer"},[a("a",{staticClass:"card-footer-item",on:{click:function(e){t.showCommentField=!t.showCommentField}}},[t._v(" Comment ")])])]),a("br"),a("div",{staticStyle:{display:"flex"}},[a("div",{staticStyle:{display:"inline-block",width:"60%"}},t._l(t.comments,(function(e){return a("div",{key:e.id,staticClass:"card",staticStyle:{"margin-top":"5px"}},[a("header",{staticClass:"card-header",staticStyle:{display:"flex"}},[a("p",{staticClass:"card-header-title"},[t._v(" Comment by "+t._s(e.username)+" ")]),a("div",{staticStyle:{"flex-grow":"1",display:"inline-block"}}),a("span",{staticStyle:{padding:"10px"}},[t._v(" "+t._s(t.$date(e.created_at).format("DD/MM/YYYY HH:mm"))+" ")])]),a("div",{staticClass:"card-content"},[t._v(" "+t._s(e.content)+" ")])])})),0),a("div",{staticStyle:{display:"inline-block","flex-grow":"1"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showCommentField,expression:"showCommentField"}],staticClass:"card",staticStyle:{width:"39%",height:"300px"}},[a("div",{staticClass:"card-content"},[a("div",{staticStyle:{display:"flex"}},[a("span",[t._v("What's your name?")]),a("div",{staticStyle:{display:"inline-block","flex-grow":"1"}}),a("b-tooltip",{attrs:{label:"Please tell me who you are so I know who wrote this :)"}},[a("b-field",[a("b-input",{model:{value:t.newComment.username,callback:function(e){t.$set(t.newComment,"username",e)},expression:"newComment.username"}})],1)],1)],1),a("br"),t._v(" Write a comment "),a("b-field",[a("b-input",{attrs:{type:"textarea"},model:{value:t.newComment.content,callback:function(e){t.$set(t.newComment,"content",e)},expression:"newComment.content"}})],1)],1),a("footer",{staticClass:"card-footer"},[a("b-button",{staticStyle:{margin:"5px"},attrs:{type:"is-black"},on:{click:function(e){return t.sendComment()}}},[t._v(" Send ")])],1)])])])},_t=[],xt={props:{id:{type:String,required:!0}},data:function(){return{post:{},admin:!1,showCommentField:!0,newComment:{username:null,content:null,blog_post_id:parseInt(this.id)},comments:[]}},created:function(){this.checkAdmin(),this.getPost(),this.getComments(),localStorage.getItem("username")&&(this.newComment.username=localStorage.getItem("username"))},methods:{getPost:function(){var t=this;this.id?this.axios.get("/backend/api/blog-post/get.php",{params:{id:parseInt(this.id)}},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){t.post=e.data})).catch((function(e){console.log(e),t.$buefy.toast.open({message:"Something went wrong while loading the data... Please reload the page.",type:"is-danger"})})):this.$router.push({name:"blog"})},checkAdmin:function(){var t=this,e=localStorage.getItem("password");e?this.axios.get("/backend/api/auth/checkadmin.php",{params:{password:e}},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){t.admin=e.data.admin})):this.admin=!1},sendComment:function(){var t=this;localStorage.setItem("username",this.newComment.username),this.axios.post("/backend/api/blog-comment/create.php",{comment:this.newComment},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){t.$buefy.toast.open(e.data.message),t.getComments()}))},getComments:function(){var t=this;this.axios.get("/backend/api/blog-comment/blog-comments.php",{params:{blog:this.id}}).then((function(e){t.comments=e.data})).catch((function(e){console.log(e),t.$buefy.toast.open({message:"Something went wrong while loading the data... Please reload the page.",type:"is-danger"})}))}}},Ct=xt,St=Object(c["a"])(Ct,kt,_t,!1,null,"6d4ecd2e",null),$t=St.exports,Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("Edit Post")]),a("div",{staticStyle:{display:"flex"}},[a("b-field",{staticStyle:{width:"50%"},attrs:{label:"Title"}},[a("b-input",{attrs:{loading:t.isLoading,disabled:t.isLoading},model:{value:t.post.title,callback:function(e){t.$set(t.post,"title",e)},expression:"post.title"}})],1),a("b-field",{staticStyle:{"margin-left":"10px",width:"30%"},attrs:{label:"Category"}},[a("b-select",{attrs:{expanded:"",loading:t.isLoading,disabled:t.isLoading},model:{value:t.post.category_id,callback:function(e){t.$set(t.post,"category_id",e)},expression:"post.category_id"}},t._l(t.categories,(function(e){return a("option",{key:e.id,domProps:{value:parseInt(e.id)}},[t._v(" "+t._s(e.name)+" ")])})),0)],1),a("b-field",{staticStyle:{"margin-left":"15px"},attrs:{label:"Make post public?"}},[a("b-tooltip",{attrs:{label:"If you don't check this option, the blog post will be only visible to you."}},[a("b-checkbox",{attrs:{loading:t.isLoading,disabled:t.isLoading},model:{value:t.post.is_public,callback:function(e){t.$set(t.post,"is_public",e)},expression:"post.is_public"}},[t._v(" "+t._s(t.post.is_public?"show it to the world":"no, save as draft")+" ")])],1)],1)],1),a("b-field",{attrs:{label:"Body"}},[a("textarea-autosize",{staticClass:"bodyinput",attrs:{loading:t.isLoading,disabled:t.isLoading,"min-height":100,"max-height":4e3},model:{value:t.post.body,callback:function(e){t.$set(t.post,"body",e)},expression:"post.body"}})],1),a("div",{staticStyle:{display:"flex"}},[a("b-button",{attrs:{type:"is-white",outlined:"",tag:"router-link",to:"/view-blog-post/"+t.id}},[a("b-icon",{staticStyle:{"margin-right":"3px"},attrs:{pack:"fas",icon:"arrow-left"}}),t._v(" Back ")],1),a("div",{staticStyle:{display:"inline-block","flex-grow":"1"}}),a("b-button",{staticStyle:{color:"black"},attrs:{type:"is-success",loading:t.isLoading,disabled:t.isLoading},on:{click:function(e){return t.update()}}},[a("b-icon",{staticStyle:{"margin-right":"3px"},attrs:{pack:"fas",icon:"check"}}),t._v(" Save ")],1)],1)],1)},Lt=[],Tt={props:{id:{type:String,required:!0}},data:function(){return{post:{},categories:[],isLoading:!1}},created:function(){this.getCategories(),this.getPost()},methods:{getCategories:function(){var t=this;this.isLoading=!0,this.axios.get("/backend/api/blog-category/all.php").then((function(e){t.categories=e.data})).catch((function(e){console.log(e),t.$buefy.toast.open({message:"Something went wrong while loading the data... Please reload the page.",type:"is-danger"})})).finally((function(){t.isLoading=!1}))},update:function(){var t=this;this.isLoading=!0,this.axios.post("/backend/api/blog-post/update.php",{post:this.post},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){t.$buefy.toast.open(e.data.message),"Your blog was updated and saved."===e.data.message&&t.$router.push({name:"blog"})})).catch((function(t){console.log(t)})).finally((function(){t.isLoading=!1}))},getPost:function(){var t=this;this.isLoading=!0,this.id?this.axios.get("/backend/api/blog-post/get.php",{params:{id:parseInt(this.id)}},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){t.post=e.data})).catch((function(e){console.log(e),t.$buefy.toast.open({message:"Something went wrong while loading the data... Please reload the page.",type:"is-danger"})})).finally((function(){t.isLoading=!1})):this.$router.push({name:"blog"})}}},It=Tt,At=(a("5878"),Object(c["a"])(It,Pt,Lt,!1,null,"4b0606d2",null)),Et=At.exports,Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("Theme")]),a("h2",[t._v("Create a new theme")]),a("b-field",{attrs:{label:"Background Image URL"}},[a("b-input",{model:{value:t.newTheme.backgroundimage,callback:function(e){t.$set(t.newTheme,"backgroundimage",e)},expression:"newTheme.backgroundimage"}})],1),a("div",{staticStyle:{display:"flex"}},[a("b-field",{staticStyle:{width:"49%"},attrs:{label:"Navigation Bar Type"}},[a("b-select",{attrs:{expanded:""},model:{value:t.newTheme.navbartype,callback:function(e){t.$set(t.newTheme,"navbartype",e)},expression:"newTheme.navbartype"}},t._l(t.navbarTypes,(function(e,o){return a("option",{key:o,domProps:{value:e}},[t._v(" "+t._s(e.substring(3,e.length))+" ")])})),0)],1),a("div",{staticStyle:{display:"inline-block","flex-grow":"1"}}),a("div",{staticStyle:{display:"inline-block",width:"49%"}},[a("p",{staticClass:"label"},[t._v("Border Color")]),a("b-collapse",{staticClass:"panel",staticStyle:{width:"100%"},attrs:{"aria-id":"contentIdForA11y2",animation:"slide",open:t.colorPanelIsOpen},on:{"update:open":function(e){t.colorPanelIsOpen=e}}},[a("div",{staticStyle:{display:"inline-block",width:"100%"},attrs:{slot:"trigger",role:"button","aria-controls":"contentIdForA11y2"},slot:"trigger"},[a("b-field",{staticStyle:{width:"100%"}},[a("b-input",{model:{value:t.newTheme.bordercolor,callback:function(e){t.$set(t.newTheme,"bordercolor",e)},expression:"newTheme.bordercolor"}})],1)],1),a("div",{staticClass:"panel-block"},[a("color-picker",{model:{value:t.newTheme.bordercolor,callback:function(e){t.$set(t.newTheme,"bordercolor",e)},expression:"newTheme.bordercolor"}})],1)])],1)],1),a("b-button",{staticStyle:{color:"black",margin:"5px",display:"inline-block"},attrs:{type:"is-success",loading:t.isLoading,disabled:t.isLoading},on:{click:function(e){return t.create()}}},[a("b-icon",{staticStyle:{"margin-right":"3px"},attrs:{pack:"fas",icon:"check"}}),t._v(" Create theme ")],1),a("h2",[t._v("Select an existing theme")]),t.themesAreLoading?a("b-progress",{attrs:{type:"is-success"}}):t._e(),t._l(t.themes,(function(e){return a("div",{key:e.id,staticClass:"card",staticStyle:{width:"24%",padding:"0",display:"inline-block",margin:"5px"}},[a("b-navbar",{staticClass:"card-header",attrs:{type:e.navbartype}},[a("template",{slot:"brand"},[a("b-tooltip",{attrs:{label:"Edit theme"}},[a("b-button",{staticStyle:{margin:"10px"},attrs:{outlined:"",type:"is-white"},on:{click:function(a){return t.editThemeData(e)}}},[a("b-icon",{attrs:{pack:"fas",icon:"pen"}})],1)],1)],1),a("template",{slot:"end"},[a("b-checkbox",{staticStyle:{"margin-right":"5px"},attrs:{type:"is-white"},on:{input:function(a){return t.changeTheme(e.id,e.is_current)}},model:{value:e.is_current,callback:function(a){t.$set(e,"is_current",a)},expression:"theme.is_current"}},[t._v(" Use this theme ")])],1)],2),a("div",{staticClass:"card-content",style:{padding:"5px",backgroundColor:e.bordercolor,borderRadius:"4px"}},[a("img",{attrs:{src:e.backgroundimage,alt:"Theme-image"}})])],1)})),a("edit-theme-modal",{attrs:{theme:t.editTheme},model:{value:t.showEditThemeModal,callback:function(e){t.showEditThemeModal=e},expression:"showEditThemeModal"}})],2)},Mt=[],Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{attrs:{active:t.value,"has-modal-card":"","trap-focus":"","aria-role":"dialog","aria-modal":""},on:{"update:active":function(e){t.value=e}}},[a("modal-form",{attrs:{"theme-data":t.theme}})],1)},Ft=[],Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{attrs:{action:""}},[a("div",{staticClass:"modal-card",staticStyle:{width:"500px"}},[t._m(0),a("section",{staticClass:"modal-card-body"},[a("b",{staticStyle:{color:"black"}},[t._v("Background Image URL")]),a("b-field",[a("b-input",{model:{value:t.theme.backgroundimage,callback:function(e){t.$set(t.theme,"backgroundimage",e)},expression:"theme.backgroundimage"}})],1),a("b",{staticStyle:{color:"black"}},[t._v("Navigation Bar Type")]),a("b-field",[a("b-select",{attrs:{expanded:""},model:{value:t.theme.navbartype,callback:function(e){t.$set(t.theme,"navbartype",e)},expression:"theme.navbartype"}},t._l(t.navbarTypes,(function(e,o){return a("option",{key:o,domProps:{value:e}},[t._v(" "+t._s(e.substring(3,e.length))+" ")])})),0)],1),a("div",{staticStyle:{display:"inline-block",width:"100%"}},[a("b",{staticStyle:{color:"black"}},[t._v("Border Color")]),a("b-collapse",{staticClass:"panel",staticStyle:{width:"100%"},attrs:{"aria-id":"contentIdForA11y2",animation:"slide",open:t.colorPanelIsOpen},on:{"update:open":function(e){t.colorPanelIsOpen=e}}},[a("div",{staticStyle:{display:"inline-block",width:"100%"},attrs:{slot:"trigger",role:"button","aria-controls":"contentIdForA11y2"},slot:"trigger"},[a("b-field",{staticStyle:{width:"100%"}},[a("b-input",{model:{value:t.theme.bordercolor,callback:function(e){t.$set(t.theme,"bordercolor",e)},expression:"theme.bordercolor"}})],1)],1),a("div",{staticClass:"panel-block"},[a("color-picker",{model:{value:t.theme.bordercolor,callback:function(e){t.$set(t.theme,"bordercolor",e)},expression:"theme.bordercolor"}})],1)])],1)],1),a("footer",{staticClass:"modal-card-foot"},[a("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){return t.$parent.close()}}},[t._v("Close")]),a("b-button",{staticClass:"button is-primary",attrs:{loading:t.isLoading},on:{click:function(e){return t.update()}}},[t._v("Save")])],1)])])},jt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[t._v("Edit Theme")])])}],Nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"220px"}},[a("color-picker",{staticStyle:{width:"100%"},attrs:{color:t.value,"sucker-hide":!1,"sucker-canvas":t.suckerCanvas,"sucker-area":t.suckerArea},on:{changeColor:t.changeColor}})],1)},Yt=[],Ut=a("fc84"),Ht={components:{"color-picker":Ut["a"]},props:{value:{type:String,default:"#ffffff"}},data:function(){return{suckerCanvas:null,suckerArea:[],isSucking:!1}},methods:{changeColor:function(t){this.$emit("input",t.hex)}}},Rt=Ht,qt=Object(c["a"])(Rt,Nt,Yt,!1,null,null,null),zt=qt.exports,Jt={components:{"color-picker":zt},props:{themeData:{type:Object,default:function(){return{backgroundimage:null,bordercolor:"#FFFFFF",navbartype:null}}}},data:function(){return{isLoading:!1,theme:{},navbarTypes:["is-white","is-black","is-light","is-dark","is-primary","is-info","is-success","is-warning","is-danger"],colorPanelIsOpen:!1}},created:function(){this.theme=this.themeData},methods:{update:function(){var t=this;this.isLoading=!0,this.axios.post("/backend/api/theme/update.php",{theme:this.theme},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){t.$buefy.toast.open(e.data.message),t.$parent.close()})).catch((function(t){console.log(t)})).finally((function(){t.isLoading=!1}))}}},Wt=Jt,Gt=Object(c["a"])(Wt,Dt,jt,!1,null,null,null),Vt=Gt.exports,Kt={components:{"modal-form":Vt},props:{value:{type:Boolean,default:!1},theme:{type:Object,default:function(){return{backgroundImage:null,borderColor:"#FFFFFF",navbarType:null}}}},watch:{value:function(){this.$emit("input",this.value)}}},Qt=Kt,Xt=Object(c["a"])(Qt,Bt,Ft,!1,null,null,null),Zt=Xt.exports,te={components:{"edit-theme-modal":Zt,"color-picker":zt},data:function(){return{themes:[],newTheme:{backgroundimage:null,bordercolor:"#FFFFFF",navbartype:null},navbarTypes:["is-white","is-black","is-light","is-dark","is-primary","is-info","is-success","is-warning","is-danger"],isLoading:!1,showEditThemeModal:!1,editTheme:null,themesAreLoading:!1,colorPanelIsOpen:!1}},created:function(){this.getThemes()},methods:{getThemes:function(){var t=this;this.themesAreLoading=!0,this.axios.get("/backend/api/theme/all.php").then((function(e){t.themes=e.data})).catch((function(e){console.log(e),t.$buefy.toast.open({message:"Something went wrong while loading the data... Please reload the page.",type:"is-danger"})})).finally((function(){t.themesAreLoading=!1}))},create:function(){var t=this;this.isLoading=!0,this.axios.post("/backend/api/theme/create.php",{theme:this.newTheme},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){t.$buefy.toast.open(e.data.message)})).finally((function(){t.isLoading=!1,t.getThemes()}))},changeTheme:function(t,e){var a=this;e&&this.axios.post("/backend/api/theme/change.php",{id:t},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){a.$buefy.toast.open(t.data.message),s.$emit("theme-was-changed"),a.getThemes()}))},editThemeData:function(t){this.editTheme=t,this.showEditThemeModal=!0}}},ee=te,ae=Object(c["a"])(ee,Ot,Mt,!1,null,null,null),oe=ae.exports,ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("My Art Gallery")]),t.imagePostsAreLoading?a("b-progress",{attrs:{type:"is-success"}}):t._e(),t.admin?a("div",{staticStyle:{display:"flex"}},[a("div",{staticStyle:{"flex-grow":"1",display:"inline-block"}}),a("b-button",{staticStyle:{color:"black",margin:"5px",display:"inline-block"},attrs:{type:"is-success",tag:"router-link",to:"/create-image-post"}},[a("b-icon",{staticStyle:{"margin-right":"3px"},attrs:{pack:"fas",icon:"plus"}}),t._v(" Create new image post ")],1)],1):t._e(),t._l(t.imagePosts,(function(e){return a("div",{key:e.id,staticClass:"card image-post"},[a("div",{staticClass:"card-image"},[a("figure",{staticClass:"image is-4by3"},[a("div",[a("img",{attrs:{src:e.image,alt:e.title}})])])]),a("div",{staticClass:"card-content"},[a("div",{staticClass:"card-header",staticStyle:{display:"flex"}},[a("p",{staticClass:"card-header-title",staticStyle:{color:"#e3e3e3"}},[t._v(" "+t._s(e.title)+" ")]),a("div",{staticStyle:{"flex-grow":"1",display:"inline-block"}}),a("span",{staticStyle:{padding:"10px"}},[t._v(" "+t._s(t.$date(e.created_at).format("DD/MM/YYYY HH:mm"))+" ")]),t.admin?a("b-button",{attrs:{outlined:"",type:"is-white",tag:"router-link",to:"/edit-image-post/"+parseInt(e.id)}},[a("b-icon",{attrs:{pack:"fas",icon:"pen"}})],1):t._e(),t.admin?a("b-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"is-danger"},on:{click:function(a){return t.confirmDelete(e.id)}}},[a("b-icon",{attrs:{pack:"fas",icon:"trash"}})],1):t._e()],1),a("div",{staticClass:"content"},[t._v(" "+t._s(e.description)+" ")])])])}))],2)},ne=[],se={data:function(){return{imagePosts:[],imagePostsAreLoading:!1,admin:!1}},watch:{admin:function(){this.checkAdmin()}},created:function(){this.checkAdmin(),this.getImagePosts()},methods:{getImagePosts:function(){var t=this;this.imagePostsAreLoading=!0,this.axios.get("/backend/api/image-posts/all.php").then((function(e){t.imagePosts=e.data})).catch((function(e){console.log(e),t.$buefy.toast.open({message:"Something went wrong while loading the data... Please reload the page.",type:"is-danger"})})).finally((function(){t.imagePostsAreLoading=!1}))},checkAdmin:function(){var t=this,e=localStorage.getItem("password");e?this.axios.get("/backend/api/auth/checkadmin.php",{params:{password:e}},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){t.admin=e.data.admin})):this.admin=!1},confirmDelete:function(t){var e=this;this.$buefy.dialog.confirm({title:"Delete image post",message:'<p style="color: black">Are you sure you want to <b>delete</b> this image post?</p>',confirmText:"Delete post",type:"is-danger",hasIcon:!0,onConfirm:function(){return e.deleteImagePost(t)}})},deleteImagePost:function(t){var e=this;this.axios.post("/backend/api/image-posts/delete.php",{id:t},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){e.$buefy.toast.open(t.data.message),e.getImagePosts()}))}}},le=se,re=(a("a728"),Object(c["a"])(le,ie,ne,!1,null,"0782afb5",null)),ce=re.exports,de=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("Create a new Image Post")]),a("b-field",{attrs:{label:"Title"}},[a("b-input",{attrs:{loading:t.isLoading,disabled:t.isLoading},model:{value:t.post.title,callback:function(e){t.$set(t.post,"title",e)},expression:"post.title"}})],1),a("b-field",{attrs:{label:"Description"}},[a("textarea-autosize",{staticClass:"bodyinput",attrs:{loading:t.isLoading,disabled:t.isLoading,"min-height":50,"max-height":200},model:{value:t.post.description,callback:function(e){t.$set(t.post,"description",e)},expression:"post.description"}})],1),a("div",{staticClass:"content has-text-centered"},[t._v(" Uploads are limited to max. 2MB file size. "),a("br"),t.post.image?a("img",{staticStyle:{width:"30%"},attrs:{src:t.url,alt:"Image Preview"}}):a("b-field",[a("input",{ref:"file",attrs:{type:"file"},on:{change:t.onChange}})])],1),a("div",{staticStyle:{display:"flex"}},[a("b-button",{attrs:{type:"is-white",outlined:"",tag:"router-link",to:"/album"}},[a("b-icon",{staticStyle:{"margin-right":"3px"},attrs:{pack:"fas",icon:"arrow-left"}}),t._v(" Back ")],1),a("div",{staticStyle:{display:"inline-block","flex-grow":"1"}}),a("b-button",{staticStyle:{color:"black"},attrs:{type:"is-success",loading:t.isLoading,disabled:t.isLoading},on:{click:function(e){return t.create()}}},[a("b-icon",{staticStyle:{"margin-right":"3px"},attrs:{pack:"fas",icon:"check"}}),t._v(" Create ")],1)],1)],1)},pe=[],ue=(a("3ca3"),a("ddb0"),a("2b3d"),{data:function(){return{post:{title:null,description:null,image:null},isLoading:!1,url:null}},methods:{create:function(){var t=this;this.isLoading=!0;var e=new FormData;e.append("title",this.post.title),e.append("description",this.post.description),e.append("file",this.post.image),this.axios.post("/backend/api/image-posts/create.php",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.$buefy.toast.open(e.data.message),"Your new image post was created."===e.data.message&&t.$router.push({name:"album"})})).catch((function(t){console.log(t)})).finally((function(){t.isLoading=!1}))},onChange:function(){var t=this.$refs.file.files[0];this.post.image=t,this.url=URL.createObjectURL(t)}}}),me=ue,ge=(a("b3d5"),Object(c["a"])(me,de,pe,!1,null,"c8d0b3b6",null)),he=ge.exports,fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("Edit Image Post")]),a("b-field",{attrs:{label:"Title"}},[a("b-input",{attrs:{loading:t.isLoading,disabled:t.isLoading},model:{value:t.post.title,callback:function(e){t.$set(t.post,"title",e)},expression:"post.title"}})],1),a("b-field",{attrs:{label:"Description"}},[a("textarea-autosize",{staticClass:"bodyinput",attrs:{loading:t.isLoading,disabled:t.isLoading,"min-height":50,"max-height":200},model:{value:t.post.description,callback:function(e){t.$set(t.post,"description",e)},expression:"post.description"}})],1),a("div",{staticClass:"content has-text-centered"},[a("img",{staticStyle:{width:"30%"},attrs:{src:t.post.image,alt:"Image"}})]),a("div",{staticStyle:{display:"flex"}},[a("b-button",{attrs:{type:"is-white",outlined:"",tag:"router-link",to:"/album"}},[a("b-icon",{staticStyle:{"margin-right":"3px"},attrs:{pack:"fas",icon:"arrow-left"}}),t._v(" Back ")],1),a("div",{staticStyle:{display:"inline-block","flex-grow":"1"}}),a("b-button",{staticStyle:{color:"black"},attrs:{type:"is-success",loading:t.isLoading,disabled:t.isLoading},on:{click:function(e){return t.update()}}},[a("b-icon",{staticStyle:{"margin-right":"3px"},attrs:{pack:"fas",icon:"check"}}),t._v(" Save ")],1)],1)],1)},be=[],ye=(a("a9e3"),{props:{id:{type:[String,Number],required:!0}},data:function(){return{post:null,isLoading:!1}},created:function(){this.getImagePost()},methods:{update:function(){var t=this;this.isLoading=!0,this.axios.post("/backend/api/image-posts/update.php",{post:this.post},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){t.$buefy.toast.open(e.data.message),t.$router.push({name:"album"})})).catch((function(t){console.log(t)})).finally((function(){t.isLoading=!1}))},getImagePost:function(){var t=this;this.isLoading=!0,this.axios.get("/backend/api/image-posts/get.php",{params:{id:this.id}},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){t.post=e.data})).catch((function(e){console.log(e),t.$buefy.toast.open({message:"Something went wrong while loading the data... Please reload the page.",type:"is-danger"})})).finally((function(){t.isLoading=!1}))}}}),ve=ye,we=(a("ffc4"),Object(c["a"])(ve,fe,be,!1,null,"3de6c9da",null)),ke=we.exports;o["a"].use(g["a"]);var _e=new g["a"]({routes:[{path:"/",name:"home",component:$},{path:"/music",name:"music",component:K},{path:"/blog",name:"blog",component:gt},{path:"/blog-create",name:"blog-create",component:wt},{path:"/view-blog-post/:id",name:"view-blog-post",component:$t,props:!0},{path:"/edit-blog-post/:id",name:"edit-blog-post",component:Et,props:!0},{path:"/theme",name:"theme",component:oe},{path:"/album",name:"album",component:ce},{path:"/create-image-post",name:"create-image-post",component:he},{path:"/edit-image-post/:id",name:"edit-image-post",component:ke,props:!0}]});_e.beforeEach((function(t,e,a){var o=["blog-create","edit-blog-post","theme","edit-image-post"];if(o.includes(t.name)){var i=localStorage.getItem("password");m.a.get("/backend/api/auth/checkadmin.php",{params:{password:i}},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){if(!t.data.admin)return console.log("Not allowed."),a({name:"home"});a()}))}else a()}));var xe=_e,Ce=a("289d"),Se=(a("5abe"),a("a7fe")),$e=a.n(Se),Pe=a("9035"),Le=a("3f9d");m.a.defaults.baseURL="https://chinyokas-project-backend.herokuapp.com/",o["a"].use(Le["a"]),o["a"].use($e.a,m.a),o["a"].use(Pe["a"]),o["a"].use(Ce["a"]),o["a"].config.productionTip=!1,new o["a"]({render:function(t){return t(p)},router:xe}).$mount("#app")},5878:function(t,e,a){"use strict";var o=a("a8d7"),i=a.n(o);i.a},"652c":function(t,e,a){},"85ec":function(t,e,a){},"905c":function(t,e,a){t.exports=a.p+"img/fantasy.1cbf9cc1.png"},9378:function(t,e,a){},"9a16":function(t,e,a){"use strict";var o=a("d54f"),i=a.n(o);i.a},a728:function(t,e,a){"use strict";var o=a("652c"),i=a.n(o);i.a},a8d7:function(t,e,a){},b3d5:function(t,e,a){"use strict";var o=a("d751"),i=a.n(o);i.a},ccd9:function(t,e,a){},d54f:function(t,e,a){},d751:function(t,e,a){},deac:function(t,e,a){},fa2d:function(t,e,a){"use strict";var o=a("9378"),i=a.n(o);i.a},ffc4:function(t,e,a){"use strict";var o=a("deac"),i=a.n(o);i.a}});
//# sourceMappingURL=app.a1b1be9a.js.map